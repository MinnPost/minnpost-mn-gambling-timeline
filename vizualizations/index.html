<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>MinnPost</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
<link rel="shortcut icon" href="http://www.minnpost.com//sites/default/themes/siteskin/favicon.ico" type="image/x-icon" />
<meta name="keywords" content="Mark Dayton,Minnesota DFL,Minnesota GOP,Minnesota Legislature,Vikings Stadium,Voter ID Amendment" />
<meta name="description" content="  " />
<meta property="og:title" content="The 2012 Legislative session: What did they pass?"/>
<meta property="og:site_name" content="MinnPost"/>
<meta property="og:description" content="Explore bills by category, investigate which bills Gov. Dayton vetoed, and search by your legislators.
"/>
<meta property="og:image" content="http://www.minnpost.com/sites/default/files/images/thumbnails/fullpagearticles/BillExplorerGraphic3.png"/>
<link rel="apple-touch-icon" href="http://www.minnpost.com//sites/default/themes/siteskin/inc/images/apple-touch-icon.png" />
<meta name="viewport" content="width=device-width, initial-scale=1"></meta>


  <link type="text/css" rel="stylesheet" media="all" href="http://www.minnpost.com/sites/default/files/css/css_cc2732a55db9703697ac738883d915c9.css" />
<link type="text/css" rel="stylesheet" media="screen" href="http://www.minnpost.com/sites/default/files/css/css_b26ad2d81bc74f1246e9c9a4c45ecdea.css" />
<link type="text/css" rel="stylesheet" media="print" href="http://www.minnpost.com/sites/default/files/css/css_cd72d16d00ebb27825710d934e28fbe8.css" />
  <!--[if IE]>
      <link rel="stylesheet" href="http://www.minnpost.com/sites/default/themes/derma/inc/css/ie.css?n" type="text/css">
  <![endif]-->
    

</head>
<body class="not-front logged-in page-node node-type-article one-sidebar sidebar-right admin-nw admin-vertical admin-df  section-data section-data-id-2012 section-data-id-2012-id-05 section-data-id-2012-id-05-how-we-built-legislative-bill-explorer one-sidebar sidebar-right">
<div class="outside-embeddable-container">



  <!-- START: Embeddable -->
  <div class="node-body fieldlayout node-field-body">
    <style type="text/css">
      @import url('https://s3.amazonaws.com/data.minnpost/js/balancemedia-Timeline-master-20121204/css/style.css');
    </style>
    
    <style type="text/css">
      #minnpost-mn-gambling-timeline {
        max-width: 960px;
        margin: 0 auto;
      }
      .clear {
        clear: both;
      }
      .js-dependent,
      .hidden {
        display: none;
      }
      .footnote {
        font-size: .75em;
        font-style: italic;
        color: #414141;
        margin-top: 3em;
        border-top: 1px solid #BCBCBC;
        padding-top: 1em;
      }
      .loading-general {
        width: 100%;
        text-align: center;
        padding: 2em 2em;
        color: #ABABAB;
        vertical-align: middle;
        height: 100%;
        line-height: 100%;
      }
      .loading-general span {
        padding: 10px 5px 10px 40px;
        background: transparent url('https://s3.amazonaws.com/data.minnpost/projects/2012-mn-election-results/images/ajax-loader.gif') center left no-repeat;
        vertical-align: middle;
        height: 100%;
        line-height: 100%;
      }
      
      
      /**
       * Responsive creen size styles
       */
      @media screen and (max-width: 570px) {
        
      }
    </style>
    
    <!--[if lte IE 7]>
      <style type="text/css">
        .ie-upgrade-note {
          font-size: 90%;
          background-color: #DCDCDC;
          border: 1px solid #A2A2A2;
          padding: 1em;
          margin: 1em 0 2em 0;
        }
      </style>
    <![endif]-->
    
    <!--[if lte IE 8]>
      <style type="text/css">
      </style>
    <![endif]-->
    
    
    <!-- Initial HTML for application -->
    <div id="minnpost-mn-gambling-timeline">
      <noscript>
        <p>This application requires Javascript which is used to make your web browser more interactive.  If this message does not go away, please consider enabling Javascript.  Here are <a href="http://www.enable-javascript.com/" target="_blank">instructions on how to enable JavaScript in your web browser</a>.</p>
      </noscript>
      
      <!--[if lte IE 7]>
        <div class="ie-upgrade-note">
          <h4>Consider upgrading your browser</h4>
          <p>Your <strong>Internet Browser</strong> is the application you use to navigate webpages on the internet.  You are currently using an older version of Internet Explorer.  This application may not be full-featured because you are using such an old browser.</p>
          
          <p><a href="http://browsehappy.com/" target="_blank">Click here to find out about upgrading to a newer browsers</a>.</p>
        
          <p>If you cannot install new applications on your computer (because it is not allowed at work, for example), consider using <a href="http://www.google.com/chromeframe" target="_blank">Google's Chrome Frame</a> for Internet Explorer.</p>
        </div>
      <![endif]-->
      
      <div id="application-container" class="clear-block">
      
        <div role="main" class="clearfix">
          <div id="buttons">
            <div id="expand-collapse-buttons">
              <a class="expand-all active" href="#"><span>EXPAND ALL</span></a>
              <a class="collapse-all" href="#"><span>COLLAPSE ALL</span></a>
            </div>
            
            <div id="sort-buttons">
              <a class="sort-newest active" href="#"><span>NEWEST FIRST</span></a>
              <a class="sort-oldest" href="#"><span>OLDEST FIRST</span></a>
            </div>
          </div>
    
          <div id="timeline">
            <div id="line-container">
              <div id="line"></div>
            </div>
          </div>
        </div>

      </div>
      
      <p class="footnote">Minnesota Graduation-Required Assessments for Diploma (GRAD) sample test provided by <a href="http://www.mnstateassessments.org/itemsamplers.html#GRADsamplers" target="_blank">MN Assessment portal</a>.  2012 MN GRAD results from the <a href="http://education.state.mn.us/MDE/SchSup/TestAdmin/MNTests/TechRep/index.html" target="_blank">Minnesota Department of Education</a>.  <a href="http://thenounproject.com/noun/calculator/#icon-No804" target="_blank">Calculator</a> designed by <a href="http://thenounproject.com/iconify" target="_blank">Scott Lewis</a> from The Noun Project</p>
    </div>
    
    
    <!-- Templates to be used in client side processing. -->
    <script id="year-marker-template" type="text/x-handlebars-template">
      <div class="item year-marker">
        <div class="inner">
          <div class="inner2">
            <div class="timestamp">{{timestamp}}</div>
            <div class="year">{{year}}</div>
          </div>
        </div>
      </div>
    </script>
  
    <script id="post-template" type="text/x-handlebars-template">
      <div class="item post">
        <div class="inner">
          <div class="timestamp">{{timestamp}}</div>
          <div class="title"><h3>{{title}}</h3></div>
          <div class="date">{{display_date}}</div>
          <div class="body">
            {{#if photo_url}}
              <img src="{{photo_url}}" alt="">
            {{/if}}
            {{#if caption}}
              <div class="caption">({{caption}})</div>
            {{/if}}
            {{#if body}}
              <div class="text">{{body}}</div>
            {{/if}}
            <div class="clearfix">
              {{#if read_more_url}}
                <a target="_blank" class="more" href="{{read_more_url}}">READ MORE</a>
                <div class="share">
                  <a href="#" class="share-trigger"></a>
                  <div class="share-popup">
                    <a href="https://twitter.com/share" class="twitter-share-button" data-url="{{read_more_url}}" data-text="{{title}}" data-count="none">Tweet</a>
                    <a class="facebook-share-button" name="fb_share" type="button" share_url="{{read_more_url}}">Share</a>
                  </div>
                </div>
              {{/if}}
            </div>
          </div>
        </div>
      </div>
    </script>

    
    <!-- jQuery that is used on MinnPost site (ensures test environment) -->
    <script type="text/javascript">
      window.jQuery || document.write('<script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/jquery-1.3.2/jquery-1.3.2.min.js"><\/script>')
    </script>
    
    <!--[if lte IE 8]>
      <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/es5-shim-master-20120801/es5-shim.min.js"></script>
    <![endif]-->
    
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/modernizr-2.6.1/modernizr-2.6.1-html5boilerplate.min.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/jquery-custom-master-20120606/jquery-1.7.2.custom.min.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/handlebars-v1.0.rc.1/handlebars-1.0.rc.1.min.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/tabletop-master-20121204/tabletop.min.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/isotope-v1.5.21/jquerycustom.isotope.min.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/jquery-resize-event-v1.1/jquerycustom.ba-resize.min.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/isotope-v1.5.21/jquerycustom.isotope.min.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/imagesloaded-v2.1.0/jquerycustom.imagesloaded.min.js"></script>

    
    <script type="text/javascript">
      jQueryCustom.noConflict();
      (function($, w, undefined) {
        var timelineConfig = {
          key: 'https://docs.google.com/spreadsheet/pub?key=0AtX8MXQ89fOKdDZadGcyNE9CZmFZV29tQjI5RFU3X3c&output=html',
          sheetName: 'timeline-data'
        }
        
        
        
        $(document).ready(function() {
        
          var direction = 'newest';
        
          /**
           * get data via Tabletop
           */
          Tabletop.init({
            key: timelineConfig.key,
            callback: setupTimeline,
            wanted: [timelineConfig.sheetName],
            postProcess: function(el){
              el['timestamp'] = Date.parse(el['date']);
              el['display_date'] = el['displaydate'];
              el['read_more_url'] = el['readmoreurl'];
              el['photo_url'] = el['photourl'];
            }
          });
        
          /**
           * Get the timestamp (milliseconds) given the year.
           * If beginning is true, timestamp is 1/1/year 12:00:00:000
           * If beginning is false, timestamp is 12/31/year 23:59:59:999
           */
          function getTimestamp(year, beginning){
            if (beginning)
              return Date.parse('January 1, ' + year);
            else
              return Date.parse('December 31, ' + year) + 86400000 - 1 ; // plus 1 day, minus 1 millisecond
          }
        
          /**
           * Load the data into Isotope
           */
          function setupTimeline(data, tabletop){
            // load the Handlebar templates into memory
            var source = $('#post-template').html();
            var postTemplate  = Handlebars.compile(source);
            source = $('#year-marker-template').html();
            var yearMarkerTemplate  = Handlebars.compile(source);
        
            var years = [];
            $.each(tabletop.sheets(timelineConfig.sheetName).all(), function(i, val){
              // save the years so we can create year markers
              var year = new Date(val.timestamp).getFullYear();
              if (years.indexOf(year) < 0)
                years[years.length] = year;
        
              // combine data & templqate
              var html = postTemplate(val);
              $('#timeline').append(html);
            });
        
            // add a year marker for each year that has a post
            $.each(years, function(i, val){
              var timestamp;
              if (direction == 'newest')
                timestamp = getTimestamp(val, false);
              else
                timestamp = getTimestamp(val, true);
              var context = {year: val, timestamp: timestamp};
              var html = yearMarkerTemplate(context);
              $('#timeline').append(html);
            });
        
            $('#timeline').imagesLoaded(function(){
              $('#timeline').isotope({
                itemSelector : '.item',
                transformsEnabled: true,
                layoutMode: 'spineAlign',
                spineAlign:{
                  gutterWidth: 56
                },
                getSortData: {
                  timestamp: function($elem){
                    return parseFloat($elem.find('.timestamp').text());
                  }
                },
                sortBy: 'timestamp',
                sortAscending: false,
                itemPositionDataEnabled: true
              });
            });
        
            // load scripts after all the html has been set
            $.getScript('//static.ak.fbcdn.net/connect.php/js/FB.Share');
            $.getScript('//platform.twitter.com/widgets.js');
        
            // add open/close buttons to each post
            $('#timeline .item.post').each(function(){
              $(this).find('.inner').append('<a href="#" class="open-close"></a>');
            });
        
            $('#timeline .item a.open-close').click(function(e){
              $(this).siblings('.body').slideToggle(function(){
                $('#timeline').isotope('reLayout');
              });
              $(this).parents('.post').toggleClass('closed');
              $('#expand-collapse-buttons a').removeClass('active');
              e.preventDefault();
            });
        
            $('#timeline .post .share').hover(
              function(){
                $(this).find('.share-trigger').addClass('over');
                $(this).find('.share-popup').show();
              },
              function(){
                $(this).find('.share-trigger').removeClass('over');
                $(this).find('.share-popup').hide();
              }
            );
        
            $('#buttons a.expand-all').click(function(e){
              $('.post .body').slideDown(function(){
                $('#timeline').isotope('reLayout');
              });
              $('.post').removeClass('closed');
              $('#expand-collapse-buttons a').removeClass('active');
              $(this).addClass('active');
              e.preventDefault();
            });
        
            $('#buttons a.collapse-all').click(function(e){
              $('.post .body').slideUp(function(){
                $('#timeline').isotope('reLayout');
              });
              $('.post').addClass('closed');
              $('#expand-collapse-buttons a').removeClass('active');
              $(this).addClass('active');
              e.preventDefault();
            });
        
          }
        
          /*
           * Set the timestamp of the year markers to either the beginning or end of
           * the year
           */
          function updateYearMarkers(beginning){
            $('.year-marker').each(function(){
              var $this = $(this);
              var year = parseInt($this.find('.year').text());
              var timestamp = getTimestamp(year, beginning);
              $this.find('.timestamp').text(timestamp);
            });
          }
        
          /*
           * Keep the actual line from extending beyond the last item's date tab
           */
          function adjustLine(){
            var $lastItem = $('.item.last');
            var itemPosition = $lastItem.data('isotope-item-position');
            var dateHeight = $lastItem.find('.date').height();
            var dateOffset = $lastItem.find('.date').position();
            var innerMargin = parseInt($lastItem.find('.inner').css('marginTop'));
            var lineHeight = itemPosition.y + innerMargin + dateOffset.top + (dateHeight / 2);
            $('#line').height(lineHeight);
          }
        
          $('#sort-buttons a').click(function(e){
            var $this = $(this);
            // don't proceed if already selected
            if ($this.hasClass('active')) {
              return false;
            }
        
            $('#sort-buttons a').removeClass('active');
            $this.addClass('active');
            var $yearMarkers = $('.year-markers');
            if ($this.hasClass('sort-newest')){
              updateYearMarkers(false);
              $('#timeline').isotope('reloadItems').isotope({sortAscending: false});
            }
            else{
              updateYearMarkers(true);
              $('#timeline').isotope('reloadItems').isotope({sortAscending: true});
            }
            e.preventDefault();
          });
        
          $('#timeline').resize(function(){ // uses "jQuery resize event" plugin
            adjustLine();
          });
          
          
        });
        
        
        
        /*
         * Isotope custom layout mode spineAlign
         */
        $.Isotope.prototype._spineAlignReset = function() {
          this.spineAlign = {
            colA: 0,
            colB: 0,
            lastY: -60
          };
        };
        $.Isotope.prototype._spineAlignLayout = function( $elems ) {
          var instance = this,
            props = this.spineAlign,
            gutterWidth = Math.round( this.options.spineAlign && this.options.spineAlign.gutterWidth ) || 0,
            centerX = Math.round(this.element.width() / 2);
        
          $elems.each(function(i, val){
            var $this = $(this);
            $this.removeClass('last').removeClass('top');
            if (i == $elems.length - 1)
              $this.addClass('last');
            var x, y;
            if ($this.hasClass('year-marker')){
              var width = $this.width();
              x = centerX - (width / 2);
              if (props.colA >= props.colB){
                y = props.colA;
                if (y == 0) $this.addClass('top');
                props.colA += $this.outerHeight(true);
                props.colB = props.colA;
              }
              else{
                y = props.colB;
                if (y == 0) $this.addClass('top');
                props.colB += $this.outerHeight(true);
                props.colA = props.colB;
              }
            }
            else{
              $this.removeClass('left').removeClass('right');
              var isColA = props.colB >= props.colA;
              if (isColA)
                $this.addClass('left');
              else
                $this.addClass('right');
              x = isColA ?
                centerX - ( $this.outerWidth(true) + gutterWidth / 2 ) : // left side
                centerX + (gutterWidth / 2); // right side
              y = isColA ? props.colA : props.colB;
              if (y - props.lastY <= 60){
                var extraSpacing = 60 - Math.abs(y - props.lastY);
                $this.find('.inner').css('marginTop', extraSpacing);
                props.lastY = y + extraSpacing;
              }
              else{
                $this.find('.inner').css('marginTop', 0);
                props.lastY = y;
              }
              props[( isColA ? 'colA' : 'colB' )] += $this.outerHeight(true);
            }
            instance._pushPosition( $this, x, y );
          });
        };
        $.Isotope.prototype._spineAlignGetContainerSize = function() {
          var size = {};
          size.height = this.spineAlign[( this.spineAlign.colB > this.spineAlign.colA ? 'colB' : 'colA' )];
          return size;
        };
        $.Isotope.prototype._spineAlignResizeChanged = function() {
          return true;
        };
 
      })(jQueryCustom, window);
    </script>
  </div>
  <!-- END: Embeddable -->



</div>
</body>
</html>